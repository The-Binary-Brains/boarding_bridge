<div class="inbox">
    <div class="container_title">All Inbox</div>
    <div class="container_line"></div>
    <div class="table_container">
        <table>
            <colgroup>
                <col />
                <col />
                <col />
                <col />
            </colgroup>

            <thead>
                <tr>
                    <th>No.</th>
                    <th>Message</th>
                    <th>Recieved on</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% if (inboxData.length === 0) { %>
                    <tr>
                        <td colspan="4" style="text-align: center;">No messages available.</td>
                    </tr>
                <% } else { %>
                    <% inboxData.forEach((message, index) => { %>
                        <tr class="<%= message.status === 'unread' ? 'unread' : '' %>">
                            <td><%= index + 1 %></td>
                            <td>
                                <div class="message">
                                    <% if (message.category === 'reservation') { %>
                                        <i class="fa-solid fa-calendar-check"></i>
                                    <% } else if (message.category === 'property') { %>
                                        <i class="fa-solid fa-home"></i>
                                    <% } else if (message.category === 'profile') { %>
                                        <i class="fa-solid fa-user"></i>
                                    <% } %>
                                    <div class="message_content">
                                        <div class="title">
                                            <%= message.content.title %>
                                        </div>
                                        <div class="description">
                                            <%= message.content.description %>
                                        </div>
                                    </div>
                                </div>
                            </td>
                            <td><%= message.date %></td>
                            <td>
                                <a href="http://localhost:5000/owner/page/inbox/view/<%= message.id %>">Open</a>
                        <button onclick="handleNotificationDelete('<%= message.id %>')">Delete</button>
                            </td>
                        </tr>
                    <% }); %>
                <% } %>
            </tbody>
        </table>
    </div>
    <div class="overlay" id="overlay">
        <div class="content" id="overlayContent">
            <div class="title">
                Are you Sure?
            </div>
            <div class="warning">
                This can't be undone.
            </div>
            <div class="button_container">
                <button class="closeBtn"  id="closeBtn">
                    Cancel
                </button>
                <button class="deleteBtn" id="deleteBtn">
                    Delete
                </button>
            </div>
        </div>
    </div>
</div>
<script src="/js/owner_inbox.js"></script>
